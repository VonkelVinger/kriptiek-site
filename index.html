<!DOCTYPE html>
<html lang="af">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kriptiek</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Montserrat', sans-serif; }
    .logo-container {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      width: fit-content;
      padding: 1rem;
      border-radius: 1rem;
      overflow: hidden;
      background-color: white;
    }
    .crossword-grid {
      display: grid;
      grid-template-columns: repeat(8, minmax(40px, 1fr));
      gap: 4px;
      position: relative;
      z-index: 10;
    }
    .letter-box {
      width: 50px;
      height: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #374151;
      color: white;
      font-size: 1.8rem;
      font-weight: bold;
      border: 2px solid #1f2937;
      border-radius: 0.375rem;
      text-transform: uppercase;
      box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
    }
    .flipped-k { transform: scaleX(-1); }
    .test-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 1.5rem;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

<header class="bg-white shadow p-4">
  <div class="logo-container mx-auto">
    <div class="crossword-grid">
      <div class="letter-box flipped-k">K</div>
      <div class="letter-box">R</div>
      <div class="letter-box">I</div>
      <div class="letter-box">P</div>
      <div class="letter-box">T</div>
      <div class="letter-box">I</div>
      <div class="letter-box">E</div>
      <div class="letter-box">K</div>
    </div>
  </div>
</header>

<main class="flex-grow p-6">
  <p class="text-center text-gray-600">Welkom by Kriptiek! Hier kom jou speletjies, inhoud of roetekaart.</p>
  <div class="test-buttons">
    <button onclick="testTier('eerste')" class="bg-blue-600 text-white px-3 py-1 rounded">Toets: Eerste besoek</button>
    <button onclick="testTier('terug')" class="bg-blue-600 text-white px-3 py-1 rounded">Toets: Welkom terug</button>
    <button onclick="testTier('gratis')" class="bg-blue-600 text-white px-3 py-1 rounded">Toets: Gratis gebruiker</button>
    <button onclick="testTier('kriptikus')" class="bg-blue-600 text-white px-3 py-1 rounded">Toets: KRIPTIKUS</button>
  </div>
</main>

<div id="greeting-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
  <div class="bg-white p-6 max-w-xl mx-4 rounded-lg shadow-lg font-sans text-sm leading-relaxed text-gray-800 relative">
    <button id="close-modal" class="absolute top-2 right-2 text-gray-500 hover:text-red-600 text-xl">&times;</button>
    <div class="logo-container mx-auto mb-4">
      <div class="crossword-grid">
        <div class="letter-box flipped-k">K</div>
        <div class="letter-box">R</div>
        <div class="letter-box">I</div>
        <div class="letter-box">P</div>
        <div class="letter-box">T</div>
        <div class="letter-box">I</div>
        <div class="letter-box">E</div>
        <div class="letter-box">K</div>
      </div>
    </div>
    <div id="greeting-message" class="mb-6 whitespace-pre-wrap"></div>
    <div id="modal-buttons" class="flex flex-col gap-3 text-center"></div>
  </div>
</div>

<script>
  function testTier(tier) {
    localStorage.setItem('userTier', tier);
    location.reload();
  }

  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById('greeting-modal');
    const messageContainer = document.getElementById('greeting-message');
    const buttonContainer = document.getElementById('modal-buttons');
    const closeModalBtn = document.getElementById('close-modal');
    const userTier = localStorage.getItem('userTier');
    const greetings = {
      eerste: {
        message: `Welkom by Kriptiek! Kies onder of jy gratis wil registreer sodat jy kan begin speel, of eers net wil kyk wat ons bied.`,
        buttons: [
          { label: "JA, EK WIL GRATIS REGISTREER", link: "/register.html" },
          { label: "NEE, EK WIL EERS NET RONDKYK", action: "close" }
        ]
      },
      terug: {
        message: `Welkom terug! Dit lyk of jy nie met jou vorige besoek suksesvol geregistreer het nie. Kies onder of jy nou wil registreer, of kontak ons as daar 'n probleem was met jou vorige poging om te registreer.`,
        buttons: [
          { label: "JA, EK WIL NOU GRATIS REGISTREER", link: "/register.html" },
          { label: "EK KRY NIE GEREGISTREER NIE, HELP ASSEBLIEF", action: "contact" }
        ]
      },
      gratis: {
        message: `Welkom terug! Kies onder of jy wil voortgaan as 'n gratis gebruiker, of eers meer wil weet oor die bykomende voordele van 'n betaalde subskripsie, of as jy gereed is om 'n subskripsie uit te neem.`,
        buttons: [
          { label: "EK WIL VIR EERS VOORTGAAN AS 'N GRATIS GEBRUIKER", link: "/" },
          { label: "VERTEL MY MEER OOR DIE VOORDELE VAN 'N SUBSKRIPSIE", link: "/subsbenefits.html" },
          { label: "EK IS GEREED OM 'N SUBSKRIPSIE UIT TE NEEM", link: "/subscription.html" }
        ]
      },
      kriptikus: {
        message: `Welkom terug! Kies onder of jy wil voortgaan, of dalk wil hÃª ons moet help met iets.`,
        buttons: [
          { label: "GAAN VOORT", link: "/" },
          { label: "EK HET 'N PROBLEEM, HELP ASSEBLIEF", action: "contact" }
        ]
      }
    };
    if (userTier && greetings[userTier]) {
      const { message, buttons } = greetings[userTier];
      messageContainer.innerHTML = message;
      buttonContainer.innerHTML = '';
      buttons.forEach(btn => {
        const element = document.createElement('button');
        element.textContent = btn.label;
        element.className = 'bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800';
        if (btn.action === 'close') {
          element.addEventListener('click', () => modal.classList.add('hidden'));
        } else if (btn.action === 'contact') {
          element.onclick = () => window.location.href = "/contact.html";
        } else {
          element.onclick = () => window.location.href = btn.link;
        }
        buttonContainer.appendChild(element);
      });
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    }
    closeModalBtn.addEventListener('click', () => {
      modal.classList.add('hidden');
    });
  });
</script>

</body>
</html>
