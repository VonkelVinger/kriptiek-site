<!DOCTYPE html>
<html lang="af">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kriptiek</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Montserrat', sans-serif; }
    .logo-container {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      width: fit-content;
      padding: 2rem;
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      background-color: white;
    }
    .crossword-grid {
      display: grid;
      grid-template-columns: repeat(8, minmax(40px, 1fr));
      gap: 4px;
      position: relative;
      z-index: 10;
    }
    .letter-box {
      width: 50px;
      height: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #374151;
      color: white;
      font-size: 1.8rem;
      font-weight: bold;
      border: 2px solid #1f2937;
      border-radius: 0.375rem;
      text-transform: uppercase;
      box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
    }
    .flipped-k { transform: scaleX(-1); }
    .background-crossword {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(30px, 1fr));
      grid-template-rows: repeat(auto-fill, minmax(30px, 1fr));
      opacity: 0.25;
      z-index: 5;
      pointer-events: none;
    }
    .bg-letter-box {
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.2rem;
      font-weight: bold;
      color: #6b7280;
      border: 1px solid #9ca3af;
      background-color: transparent;
      user-select: none;
    }
    @media (max-width: 768px) {
      .letter-box { width: 40px; height: 40px; font-size: 1.5rem; }
      .crossword-grid { gap: 3px; }
      .logo-container { padding: 1rem; }
      .bg-letter-box { font-size: 1rem; }
    }
    @media (max-width: 480px) {
      .letter-box { width: 35px; height: 35px; font-size: 1.2rem; }
      .crossword-grid { gap: 2px; }
      .logo-container { padding: 0.75rem; }
      .bg-letter-box { font-size: 0.9rem; }
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

<header class="bg-white shadow p-4">
  <div class="logo-container mx-auto">
    <div id="backgroundCrossword" class="background-crossword"></div>
    <div class="crossword-grid">
      <div class="letter-box flipped-k">K</div>
      <div class="letter-box">R</div>
      <div class="letter-box">I</div>
      <div class="letter-box">P</div>
      <div class="letter-box">T</div>
      <div class="letter-box">I</div>
      <div class="letter-box">E</div>
      <div class="letter-box">K</div>
    </div>
  </div>
</header>

<main class="flex-grow p-6">
  <p class="text-center text-gray-600">Welkom by Kriptiek! Hier kom jou speletjies, inhoud of roetekaart.</p>
</main>

<footer class="bg-white shadow p-4 text-center text-sm text-gray-500">
  &copy; 2025 Kriptiek. Alle regte voorbehou.
</footer>

<div id="greeting-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
  <div class="bg-white p-6 max-w-xl mx-4 rounded-lg shadow-lg font-sans text-sm leading-relaxed text-gray-800 relative overflow-y-auto max-h-[90vh] whitespace-pre-wrap">
    <button id="close-modal" class="absolute top-2 right-2 text-gray-500 hover:text-red-600 text-xl">&times;</button>
    
<div class="logo-container mx-auto mt-0 mb-4 relative">
  <div class="background-crossword" style="position:absolute; inset:0; opacity:0.08; z-index:1;"></div>
  <div class="crossword-grid relative z-10">
    <div class="letter-box flipped-k">K</div>
    <div class="letter-box">R</div>
    <div class="letter-box">I</div>
    <div class="letter-box">P</div>
    <div class="letter-box">T</div>
    <div class="letter-box">I</div>
    <div class="letter-box">E</div>
    <div class="letter-box">K</div>
  </div>
</div>
  <div class="crossword-grid">
    <div class="letter-box flipped-k">K</div>
    <div class="letter-box">R</div>
    <div class="letter-box">I</div>
    <div class="letter-box">P</div>
    <div class="letter-box">T</div>
    <div class="letter-box">I</div>
    <div class="letter-box">E</div>
    <div class="letter-box">K</div>
  </div>
</div>
<div id="greeting-message" class="mb-6"></div>
    <div id="modal-buttons" class="flex flex-col gap-3 text-center"></div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById('greeting-modal');
    const messageContainer = document.getElementById('greeting-message');
    const buttonContainer = document.getElementById('modal-buttons');
    const closeModalBtn = document.getElementById('close-modal');
    const userTier = localStorage.getItem('userTier');
    const greetings = {
      eerste: {
        message: `Hierdie is jou EERSTE BESOEK aan Kriptiek, welkom! Om voort te gaan moet jy GRATIS REGISTREER deur 'n Noemnaam en 'n geldige e-posadres te verskaf. Wanneer jou e-pos geverifieer is, sal jy met jou Noemnaam en e-posadres en met enige toestel (byvoorbeeld jou foon of rekenaar) op die webwerf kan aanmeld as 'n GRATIS GEBRUIKER met beperkte toegang tot Kriptiek. Sodra jy gereed is vir volle toegang tot al ons speletjies, raaisels, ranglyste en inligting oor jou speel-geskiedenis, asook om kommentaar te kan lewer, gaan na MY REKENING regs bo en kliek op Subskripsie. Jy sal daar kan kies watter soort subskripsie jy wil uitneem en hoe jy daarvoor wil betaal. As 'n betalende intekenaar word jy dan 'n KRIPTIKUS.`,
        buttons: [
          { label: "KLIEK HIER OM GRATIS TE REGISTREER", link: "/register.html" },
          { label: "SLUIT", action: "close" }
        ]
      },
      terug: {
        message: `WELKOM TERUG by Kriptiek, maar jy het nie met jou vorige besoek geregistreer nie en het dus nog nie toegang nie. Jy kan steeds GRATIS REGISTREER deur 'n Noemnaam en 'n geldige e-posadres te verskaf. Wanneer jou e-pos geverifieer is, sal jy met jou Noemnaam en e-posadres en met enige toestel (byvoorbeeld jou foon of rekenaar) op die webwerf kan aanmeld as 'n GRATIS GEBRUIKER met beperkte toegang tot Kriptiek. Sodra jy gereed is vir volle toegang tot al ons speletjies, raaisels, ranglyste en inligting oor jou speel-geskiedenis, asook om kommentaar te kan lewer, gaan na MY REKENING regs bo en kliek op Subskripsie. Jy sal daar kan kies watter soort subskripsie jy wil uitneem en hoe jy daarvoor wil betaal. As 'n betalende intekenaar word jy dan 'n KRIPTIKUS.`,
        buttons: [
          { label: "KLIEK HIER OM GRATIS TE REGISTREER", link: "/register.html" },
          { label: "SLUIT", action: "close" }
        ]
      },
      gratis: {
        message: `Welkom terug, KRIPTIKUS, en dankie vir jou subskripsie! GAAN VOORT terug as 'n GRATIS GEBRUIKER met beperkte toegang tot Kriptiek. GAAN VOORT. Vir volle toegang tot al ons speletjies, raaisels, ranglyste en inligting oor jou speel-geskiedenis, asook om kommentaar te kan lewer, gaan na MY REKENING regs bo en kliek op Subskripsie. Jy sal daar kan kies watter soort subskripsie jy wil uitneem en hoe jy daarvoor wil betaal. As 'n betalende intekenaar word jy dan 'n KRIPTIKUS. As jy nog as 'n GRATIS GEBRUIKER wil voortgaan, kliek net op GAAN VOORT.`,
        buttons: [
          { label: "GAAN VOORT", link: "/" },
          { label: "WORD â€™N KRIPTIKUS", link: "/subscription.html" },
          { label: "SLUIT", action: "close" }
        ]
      },
      kriptikus: {
        message: `Welkom terug, KRIPTIKUS, en dankie vir jou subskripsie! GAAN VOORT terug as 'n GRATIS GEBRUIKER met beperkte toegang tot Kriptiek. GAAN VOORT. Vir volle toegang tot al ons speletjies, raaisels, ranglyste en inligting oor jou speel-geskiedenis, asook om kommentaar te kan lewer, gaan na MY REKENING regs bo en kliek op Subskripsie. Jy sal daar kan kies watter soort subskripsie jy wil uitneem en hoe jy daarvoor wil betaal. As 'n betalende intekenaar word jy dan 'n KRIPTIKUS. As jy nog as 'n GRATIS GEBRUIKER wil voortgaan, kliek net op GAAN VOORT.`,
        buttons: [
          { label: "GAAN VOORT", link: "/" },
          { label: "SLUIT", action: "close" }
        ]
      }
    };
    if (userTier && greetings[userTier]) {
      const { message, buttons } = greetings[userTier];
      messageContainer.innerHTML = message;
      buttonContainer.innerHTML = '';
      buttons.forEach(btn => {
        const element = document.createElement('button');
        element.textContent = btn.label;
        element.className = 'bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800';
        if (btn.action === 'close') {
          element.addEventListener('click', () => modal.classList.add('hidden'));
        } else {
          element.onclick = () => window.location.href = btn.link;
        }
        buttonContainer.appendChild(element);
      });
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    }
    closeModalBtn.addEventListener('click', () => {
      modal.classList.add('hidden');
    });
  });

  document.addEventListener('DOMContentLoaded', function () {
    const backgroundCrossword = document.getElementById('backgroundCrossword');
    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    function getRandomLetter() {
      return letters[Math.floor(Math.random() * letters.length)];
    }
    function generateBackgroundGrid() {
      backgroundCrossword.innerHTML = '';
      const numRows = Math.ceil(backgroundCrossword.offsetHeight / 30);
      const numCols = Math.ceil(backgroundCrossword.offsetWidth / 30);
      const totalCells = (numRows * numCols) || 300;
      for (let i = 0; i < totalCells; i++) {
        const bgLetterBox = document.createElement('div');
        bgLetterBox.classList.add('bg-letter-box');
        bgLetterBox.textContent = getRandomLetter();
        backgroundCrossword.appendChild(bgLetterBox);
      }
    }
    generateBackgroundGrid();
    window.addEventListener('resize', generateBackgroundGrid);
  });
</script>

</body>
</html>
