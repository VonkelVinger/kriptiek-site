<!DOCTYPE html>
<html lang="af">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DILEMMA ‚Äì Kriptiek</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
  <script type="module" src="dilemma-logic.js"></script>
  <link rel="stylesheet" href="dilemma-style.css">
</head>
<body class="min-h-screen flex flex-col items-center p-4 bg-[#f8f5f2] font-[Montserrat,sans-serif]">
  <header class="relative flex justify-center items-center w-fit mx-auto p-4 rounded-2xl bg-white overflow-hidden mb-4">
    <div id="backgroundCrossword" class="absolute top-0 left-0 w-full h-full grid grid-cols-[repeat(auto-fill,minmax(30px,1fr))] grid-rows-[repeat(auto-fill,minmax(30px,1fr))] opacity-50 z-0 pointer-events-none"></div>
    <div class="grid grid-cols-8 gap-1 relative z-10">
      <div class="letter-box flipped-k">K</div>
      <div class="letter-box flipped-k">R</div>
      <div class="letter-box">I</div>
      <div class="letter-box flipped-k">P</div>
      <div class="letter-box">T</div>
      <div class="letter-box">I</div>
      <div class="letter-box flipped-k">E</div>
      <div class="letter-box">K</div>
    </div>
  </header>

  <main class="w-full max-w-md bg-white border-2 border-[#374151] p-6 shadow">
    <h2 class="text-xl font-bold text-center mb-2">üß© DILEMMA vir <span id="dateDisplay"></span></h2>
    <p id="clueDisplay" class="text-center text-gray-700 italic mb-4"></p>
    <div id="grid" class="mb-4"></div>
    <div id="keyboard" class="text-center overflow-x-auto max-w-full flex flex-wrap justify-center"></div>

    <!-- Rules section -->
    <section class="mt-6 text-sm text-gray-800">
      <h3 class="text-lg font-bold mb-2">Hoe om te speel</h3>
      <p class="mb-2">Jy het ses kanse om die woord te raai.</p>
      <p class="mb-2">Jy mag vir elke probeerslag enige letters in enige volgorde kies, maar elke raaiskoot moet dieselfde aantal letters h√™ as die woord waarna jy soek. Dit hoef nie ook 'n woord te vorm nie.</p>
      <p class="mb-2">Gebruik jou toetsbord of die een op die skerm om jou raaiskoot in te tik, dan ENTER.</p>
      <ul class="list-disc list-inside mt-4">
        <li><span class="text-green-700 font-semibold">GROEN</span>: Die letter is in die woord √©n in die regte posisie.</li>
        <li><span class="text-orange-600 font-semibold">ORANJE</span>: Die letter is in die woord, maar op 'n ander plek.</li>
        <li><span class="text-yellow-500 font-semibold">GEEL</span>: Die letter kom meer as een keer in die woord voor, maar is nie hier op die regte plek nie.</li>
        <li><span class="text-gray-600 font-semibold">GRYS</span>: Die letter is nie in die woord nie.</li>
      </ul>
    </section>

    <!-- Leaderboard -->
    <section class="mt-8">
      <h3 class="text-lg font-bold mb-2 text-center">üèÜ Vandag se bestes</h3>
      <div id="leaderboard" class="text-sm text-center">
        <p>Naam | Raaie | Tyd</p>
        <!-- Entries injected by JS -->
      </div>
    </section>

    <!-- Comment box -->
    <section class="mt-6">
      <h3 class="text-lg font-bold text-center mb-2">üí¨ S√™ jou s√™</h3>
      <div class="text-center text-sm text-gray-500">
        Kommentaar word net vir vandag gestoor
      </div>
      <form id="commentForm" class="mt-2 flex flex-col items-center">
        <input type="text" id="nameInput" placeholder="Jou naam" class="border p-2 mb-2 w-full max-w-xs">
        <textarea id="commentInput" placeholder="Jou kommentaar..." class="border p-2 mb-2 w-full max-w-xs"></textarea>
        <button type="submit" class="keyboard-button">Stuur</button>
      </form>
      <div id="comments" class="mt-4 text-sm text-left"></div>
    </section>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const bg = document.getElementById('backgroundCrossword');
      const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      function fillGrid() {
        bg.innerHTML = '';
        const count = Math.max(300, (bg.offsetHeight / 30) * (bg.offsetWidth / 30));
        for (let i = 0; i < count; i++) {
          const box = document.createElement('div');
          box.className = 'bg-letter-box';
          box.textContent = letters[Math.floor(Math.random() * letters.length)];
          bg.appendChild(box);
        }
      }
      fillGrid();
      window.addEventListener('resize', fillGrid);
    });
  </script>
</body>
</html>
